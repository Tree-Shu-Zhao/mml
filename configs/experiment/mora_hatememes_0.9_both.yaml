# @package _global_
defaults:
  - override /dataset: hatememes
  - override /model: clip_mora

EXP_NOTE: ClipMoRA_Hatememes_0.9_Both

model:
  lora:
    START_LAYER_INDEX: 10
    SHARED_RANK: 8
    VISION_RANK: 8
    TEXT_RANK: 8
    ALPHA: 0.001
    TARGET_MODULES: [
      "clip.vision_model.encoder.layers.{i}.self_attn.k_proj",
      "clip.vision_model.encoder.layers.{i}.self_attn.v_proj",
      "clip.text_model.encoder.layers.{i}.self_attn.k_proj",
      "clip.text_model.encoder.layers.{i}.self_attn.v_proj",
    ]

train:
  EPOCHS: 5
  WEIGHT_DECAY: 0.1
  BATCH_SIZE: 16